<div class="container-fluid py-4">
  <div class="row mb-4">
    <div class="col">
      <h1 class="h3 mb-4">Customer Management</h1>
    </div>
  </div>

  <div class="row mb-4 g-3">
    <div class="col-md-4">
      <div class="form-floating">
        <input 
          type="text" 
          class="form-control" 
          id="nameFilter" 
          [formControl]="nameFilter" 
          placeholder="Search by name">
        <label for="nameFilter">Search by first or last name</label>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="form-floating">
        <select 
          class="form-select" 
          id="cityFilter" 
          [formControl]="cityFilter">
          <option [ngValue]="null">All Cities</option>
          <option *ngFor="let city of cities" [ngValue]="city">
            {{city}}
          </option>
        </select>
        <label for="cityFilter">Filter by City</label>
      </div>
    </div>
    
    <div class="col-md-4 d-flex align-items-center">
      <div class="form-check form-switch">
        <input 
          type="checkbox" 
          class="form-check-input" 
          id="highlightOldest" 
          [formControl]="highlightOldest">
        <label class="form-check-label" for="highlightOldest">
          Highlight Oldest in City
        </label>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="card">
        <div class="table-responsive">
          <table class="table table-hover mb-0">
            <thead class="table-light">
              <tr>
                <th class="border-0">User</th>
                <th class="border-0">Age</th>
                <th class="border-0">Contact</th>
                <th class="border-0">Location</th>
                <th class="border-0">Company</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of users; trackBy: trackByUserId" 
                  [class.table-warning]="user.isHighlighted">
                <td>
                  <div class="d-flex align-items-center">
                    <img [src]="user.image" 
                         [alt]="getFullName(user)" 
                         class="user-avatar me-3">
                    <div>
                      <div class="fw-bold">{{getFullName(user)}}</div>
                    </div>
                  </div>
                </td>
                <td>{{user.age}}</td>
                <td>
                  <div>{{user.email}}</div>
                  <div class="text-muted">{{user.phone}}</div>
                </td>
                <td>{{user.address.city}}</td>
                <td>
                  <div>{{user.company?.name}}</div>
                  <div class="text-muted">{{user.company?.department}}</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
